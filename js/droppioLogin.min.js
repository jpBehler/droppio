$(document).ready(function(){function s(){this._jsonified={},this._xsrf=!1,this._fields={signup:["name","lastname","bloodType","email","_xsrf","type"],login:["password","email","_xsrf","type"]},this.bloodType=!1,this.name=!1,this.lastname=!1,this.email=!1,this.password=!1,this.type=!1,this.toJSON=function(){if(this.type in this._fields)for(var s in this)this[s].length&&this._fields[this.type].includes(s)&&(this._jsonified[s]=this[s]);return this._jsonified}}signx=new s,$("select").material_select(),$("#signup, #login").submit(function(s){s.preventDefault(),signx.type=$(this).attr("id"),signx.name=$("#name").val(),signx.lastname=$("#lastname").val(),signx.bloodType=$("#bloodType").val(),signx.email=$("#email").val(),signx.password=$("#password").val(),signx._xsrf=xsrf_token,console.log(signx),data=signx.toJSON(),$.post("/register",data).done(function(s){s=JSON.parse(s),respType=s.type,"success"==respType?window.location="https://droppio.org/home":"signupError"==respType||"loginPassError"==respType||respType})})});