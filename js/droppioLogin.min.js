$(document).ready(function(){function i(){this._jsonified=[],this._xsrf=!1,this._fields={signup:["name","lastname","bloodType","email"],login:["password","email"]},this.bloodType=!1,this.name=!1,this.lastname=!1,this.email=!1,this.password=!1,this.type=!1,this.toJSON=function(){if(this.type in this._fields)for(var i in this)this[i].length&&this._fields[this.type].indexOf(i)>0&&(console.log("fields property "+i),this._jsonified.push({_id:i,value:this[i]}));return this._jsonified}}signx=new i,$("select").material_select(),$("#signup,#login").submit(function(i){i.preventDefault(),type=$(this).attr("id"),signx.type=$(this).attr("id"),signx.name=$("#name").val(),signx.lastname=$("#lastname").val(),signx.bloodType=$("#bloodType").val(),signx.email=$("#email").val(),signx.password=$("#password").val(),data=signx.toJSON(),$.post("/register",data).done(function(i){i=JSON.parse(i),respType=i.type,"success"==respType&&(window.location="https://droppio.org/home")})})});