settingsDB.sync(remote_settingsDB,{live:!0,retry:!0,back_off_function:function(e){return 0==e?1e3:e>=1e3&&e<18e5?1.5*e:e>=18e5?1.1*e:void 0}}).on("paused",function(e){var n=["bloodType","radius","nearbyHospitals"];settingsDB.allDocs({include_docs:!0,keys:n}).then(function(e){var e=e,n=!0;return e.forEach(function(e){console.log(e),"error"in e?n=!1:settings[e._id]=e.value}),n}).then(function(e){e&&campaignsDB.replicate.from(remote_campaignsDB,{live:!0,retry:!0,back_off_function:function(e){return 0==e?1e3:e>=1e3&&e<18e5?1.5*e:e>=18e5?1.1*e:void 0},selector:{compatible:{$elemMatch:{$eq:settings.bloodType}},createdAt:{$gt:moment().tz("America/Argentina/Buenos_Aires").subtract("days","30").valueOf()}}}).on("change",function(e){})}).on("error",function(e){console.log("Aha something nasty happened while syncing campaigns!")})}).on("error",function(e){console.log("Oops smth happened while trying to sync settings!")});